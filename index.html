<html>
<head>
  <title>Hello World</title>
  <style>
    #offline{
      display: none;
    }
    .active{
      display: block;
    }
  </style>
</head>
<body>
  <div id="offline" class="active"></div>
  Hello World
  <script type="text/javascript">

    var serviceWorker;

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/worker.js').then( function(registration) {
        console.log('◕‿◕', registration);

        ///
        if (registration.installing) {
          serviceWorker = registration.installing;
        }

        if (serviceWorker) {
            console.log(serviceWorker.state);
            serviceWorker.addEventListener('statechange', function(e) {
            console.log(e.target.state);
          });
        }
        ///

      }, function(err) {
        console.log('ಠ_ಠ', err);
      });

    }
  </script>
</body>
</html>
